@page "/nsw_compass"
@inherits LayoutComponentBase
@inject IJSRuntime JSRuntime
@rendermode InteractiveServer
<NSWLayout />
<br>
<br>
<div class="container mt-5">
    <h1 class="display-4 text-center">NSW Kompas Moduli</h1>
    <p class="lead text-center">NSW Kompas Moduli bilan Yo'nalishni Aniqlang</p>

    <div class="my-5">
        <h2>Umumiy Ma'lumot</h2>
        <p>NSW Kompas Moduli turli yo'nalishlarni aniqlash uchun mo'ljallangan. Bu modul robototexnika, navigatsiya tizimlari va ta'lim loyihalarida keng qo'llanilishi mumkin. U Arduino va boshqa mikrokontrollerlar bilan mos keladi.</p>
        <img src="images/nsw_compass.jpg" alt="NSW Kompas Moduli" class="img-fluid rounded shadow my-3" style="max-width: 400px;">
    </div>

    <div class="my-5">
        <h2>Asosiy Xususiyatlari</h2>
        <ul>
            <li>Ishlash kuchlanishi: 3.3V-5V DC</li>
            <li>Chastota diapazoni: 0.5Hz-160Hz</li>
            <li>O'lchov aniqligi: ±1°</li>
            <li>Modul hajmi: 30 x 30 x 10 mm</li>
        </ul>
    </div>

    <div class="my-5">
        <h2>Ilovalar</h2>
        <p>NSW Kompas Moduli quyidagi turli loyihalarda ishlatilishi mumkin:</p>
        <ul>
            <li>Navigatsiya Tizimlari</li>
            <li>Robototexnika</li>
            <li>Geodeziya</li>
            <li>DIY Gadjetlar</li>
            <li>Ta'lim Loyiha</li>
        </ul>
    </div>

    <div class="my-5">
        <h2>Pin Tafsilotlari</h2>
        <p>NSW Kompas Moduli portida quyidagi pinlar mavjud:</p>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Pin</th>
                    <th>Vazifasi</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>GND</td>
                    <td>Manfiy to'k</td>
                </tr>
                <tr>
                    <td>VCC</td>
                    <td>Quvvatlantirish manbai</td>
                </tr>
                <tr>
                    <td>SCL</td>
                    <td>I2C soat liniyasi</td>
                </tr>
                <tr>
                    <td>SDA</td>
                    <td>I2C ma'lumot liniyasi</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="my-5">
        <h2>Simlarni Ulash Rejimi</h2>
        <p>● RJ25 bilan ulanish</p>
        <p>NSW Kompas Moduli RJ25 porti orqali ulanishi mumkin. Makeblock Orion-da RJ25 portidan foydalanganda, uni mos keluvchi portga ulashingiz kerak:</p>
        <img src="images/nsw_compass_rj25.jpg" alt="NSW Kompas RJ25 Ulash" class="img-fluid rounded shadow my-3" style="max-width: 400px;">

        <p>● Dupont simi bilan ulanish</p>
        <p>Dupont simidan modulni Arduino UNO asos paneliga ulash uchun foydalanilganda, uning SCL va SDA pinlarini Arduino SCL va SDA pinlariga quyidagicha ulash lozim:</p>
        <img src="images/nsw_compass_dupont.jpg" alt="NSW Kompas Dupont Ulash" class="img-fluid rounded shadow my-3" style="max-width: 400px;">
    </div>

    <div class="my-5">
        <h2>Dasturlash Bo'yicha Qo'llanma</h2>
        <p>Arduino Dasturlash</p>
        <p>Agar dastur yozish uchun Arduino dan foydalansangiz, NSW Kompas Modulini boshqarish uchun quyidagi koddan foydalanishingiz mumkin:</p>
        <pre><code class="language-cpp">
// Arduino dastur kodi
#include Wire.h>
#include Adafruit_Sensor.h
#include Adafruit_HMC5883_U.h

Adafruit_HMC5883_Unified mag = Adafruit_HMC5883_Unified(12345);

void setup() {
    Serial.begin(9600);
    Wire.begin();

    if (!mag.begin()) {
        Serial.println("HMC5883 aniqlanmadi ... Check your wiring or I2C ADDR!");
        while (1);
    }
    Serial.println("HMC5883 tasdiqlandi");
}

void loop() {
    sensors_event_t event;
    mag.getEvent(&event);

    float heading = atan2(event.magnetic.y, event.magnetic.x);
    if (heading &lt 0) {
        heading += 2 * PI;
    }
    float headingDegrees = heading * 180 / PI;

    Serial.print("Yo'nalish: ");
    Serial.print(headingDegrees);
    Serial.println("°");

    delay(1000);
}
    </code></pre>

    </div>

    <div class="my-5">
        <h3>Prinsipiy Tahlil</h3>
        <p>NSW Kompas Moduli turli yo'nalishlarni aniqlash uchun mo'ljallangan. Bu modulning asosiy funktsiyasi yo'nalishni aniqlashdir, va bu loyihalaringizda navigatsiya va geodeziya ilovalarida yordam beradi. SCL va SDA pinlari orqali ma'lumot uzatish va qabul qilish amalga oshiriladi.</p>
    </div>

    <div class="text-center my-5">
        <a class="btn btn-lg custom-btn shadow-lg mx-2" href="/nsw_colorsensor" role="button">
            <i class="fas fa-arrow-left"></i> Orqaga
        </a>
        <a class="btn btn-lg custom-btn shadow-lg mx-2" href="/nsw_dcmotor" role="button">
            Keyingisi <i class="fas fa-arrow-right"></i>
        </a>
    </div>

</div>

<style>
.custom-btn {
    background: linear-gradient(135deg, rgb(0, 217, 255), rgb(0, 150, 200));
    color: white;
    padding: 12px 24px;
    font-size: 18px;
    font-weight: bold;
    border: none;
    border-radius: 50px;
    transition: all 0.3s ease-in-out;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}

.custom-btn:hover {
    background: linear-gradient(135deg, rgb(0, 150, 200), rgb(0, 217, 255));
    transform: scale(1.05);
    box-shadow: 0px 5px 15px rgba(0, 217, 255, 0.4);
}

.custom-btn i {
    margin: 0 8px;
}

</style>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await JSRuntime.InvokeVoidAsync("scrollToTop");
    }
}

<script>
    window.scrollToTop = function () {
        window.scrollTo(0, 0);
    };
</script>