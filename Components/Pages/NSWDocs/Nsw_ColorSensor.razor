@page "/nsw_colorsensor"
@inherits LayoutComponentBase
@inject IJSRuntime JSRuntime
@rendermode InteractiveServer
<NSWLayout />
<br>
<br>
<div class="container mt-5">
    <h1 class="display-4 text-center">NSW Rang Datchigi</h1>
    <p class="lead text-center">NSW Rang Datchigi bilan Ranglarni Aniqlang</p>

    <div class="my-5">
        <h2>Umumiy Ma'lumot</h2>
        <p>NSW Rang Datchigi turli xil ranglarni aniqlash uchun mo'ljallangan. Bu datchik turli xil loyihalarda, jumladan robototexnika, avtomatlashtirish va ta'limda keng qo'llanilishi mumkin. U Arduino va boshqa mikrokontrollerlar bilan mos keladi.</p>
        <img src="images/nsw_colorsensor.jpg" alt="NSW Rang Datchigi" class="img-fluid rounded shadow my-3" style="max-width: 400px;">
    </div>

    <div class="my-5">
        <h2>Asosiy Xususiyatlari</h2>
        <ul>
            <li>Ishlash kuchlanishi: 3.3V-5V DC</li>
            <li>O'lchov diapazoni: 380-780nm</li>
            <li>O'lchov aniqligi: ±10%</li>
            <li>Modul hajmi: 30 x 20 x 10 mm</li>
        </ul>
    </div>

    <div class="my-5">
        <h2>Ilovalar</h2>
        <p>NSW Rang Datchigi quyidagi turli loyihalarda ishlatilishi mumkin:</p>
        <ul>
            <li>Rangli Ob'ektlarni Aniqlash</li>
            <li>Chiziq Qayta Joylash</li>
            <li>Ovozli Ogohlantirishlar</li>
            <li>O'yinchoqlar</li>
            <li>Ta'lim Loyiha</li>
        </ul>
    </div>

    <div class="my-5">
        <h2>Pin Tafsilotlari</h2>
        <p>NSW Rang Datchigi portida quyidagi pinlar mavjud:</p>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Pin</th>
                    <th>Vazifasi</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>GND</td>
                    <td>Manfiy to'k</td>
                </tr>
                <tr>
                    <td>VCC</td>
                    <td>Quvvatlantirish manbai</td>
                </tr>
                <tr>
                    <td>S0</td>
                    <td>Chastota tanlash pini 0</td>
                </tr>
                <tr>
                    <td>S1</td>
                    <td>Chastota tanlash pini 1</td>
                </tr>
                <tr>
                    <td>S2</td>
                    <td>Filtr tanlash pini 0</td>
                </tr>
                <tr>
                    <td>S3</td>
                    <td>Filtr tanlash pini 1</td>
                </tr>
                <tr>
                    <td>OUT</td>
                    <td>Signal chiqishi</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="my-5">
        <h2>Simlarni Ulash Rejimi</h2>
        <p>● RJ25 bilan ulanish</p>
        <p>NSW Rang Datchigi RJ25 porti orqali ulanishi mumkin. Makeblock Orion-da RJ25 portidan foydalanganda, uni mos keluvchi portga ulashingiz kerak:</p>
        <img src="images/nsw_colorsensor_rj25.jpg" alt="NSW Rang Datchigi RJ25 Ulash" class="img-fluid rounded shadow my-3" style="max-width: 400px;">

        <p>● Dupont simi bilan ulanish</p>
        <p>Dupont simidan modulni Arduino UNO asos paneliga ulash uchun foydalanilganda, uning OUT pinini digital pinga quyidagicha ulash lozim:</p>
        <img src="images/nsw_colorsensor_dupont.jpg" alt="NSW Rang Datchigi Dupont Ulash" class="img-fluid rounded shadow my-3" style="max-width: 400px;">
    </div>

    <div class="my-5">
        <h2>Dasturlash Bo'yicha Qo'llanma</h2>
        <p>Arduino Dasturlash</p>
        <p>Agar dastur yozish uchun Arduino dan foydalansangiz, NSW Rang Datchigini boshqarish uchun quyidagi koddan foydalanishingiz mumkin:</p>
        <pre><code class="language-cpp">
// Arduino dastur kodi
const int S0 = 4;
const int S1 = 5;
const int S2 = 6;
const int S3 = 7;
const int sensorOut = 8;

int redFrequency = 0;
int greenFrequency = 0;
int blueFrequency = 0;

void setup() {
    pinMode(S0, OUTPUT);
    pinMode(S1, OUTPUT);
    pinMode(S2, OUTPUT);
    pinMode(S3, OUTPUT);
    pinMode(sensorOut, INPUT);

    // Chastota tanlash
    digitalWrite(S0, HIGH);
    digitalWrite(S1, LOW);

    Serial.begin(9600);
}

void loop() {
    // Qizil rangni o'lchash
    digitalWrite(S2, LOW);
    digitalWrite(S3, LOW);
    redFrequency = pulseIn(sensorOut, LOW);

    // Yashil rangni o'lchash
    digitalWrite(S2, HIGH);
    digitalWrite(S3, HIGH);
    greenFrequency = pulseIn(sensorOut, LOW);

    // Ko'k rangni o'lchash
    digitalWrite(S2, LOW);
    digitalWrite(S3, HIGH);
    blueFrequency = pulseIn(sensorOut, LOW);

    // Natijalarni konsolda chiqarish
    Serial.print("Qizil: ");
    Serial.print(redFrequency);
    Serial.print("  Yashil: ");
    Serial.print(greenFrequency);
    Serial.print("  Ko'k: ");
    Serial.println(blueFrequency);

    delay(1000);
}
        </code></pre>
    </div>

    <div class="my-5">
        <h3>Prinsipiy Tahlil</h3>
        <p>NSW Rang Datchigi turli xil ranglarni aniqlash uchun mo'ljallangan. Bu modulning asosiy funktsiyasi ranglarni aniqlashdir, va bu loyihalaringizda rangli ob'ektlarni tanib olish va chiziqlarni qayta joylashda yordam beradi. S0 va S1 pinlari orqali chastotani tanlash, S2 va S3 pinlari orqali filtrni tanlash amalga oshiriladi.</p>
    </div>

<div class="text-center my-5">
    <a class="btn btn-lg custom-btn shadow-lg mx-2" href="/nsw_buzzer" role="button">
        <i class="fas fa-arrow-left"></i> Orqaga
    </a>
    <a class="btn btn-lg custom-btn shadow-lg mx-2" href="/nsw_compass" role="button">
        Keyingisi <i class="fas fa-arrow-right"></i>
    </a>
</div>

</div>

<style>
.custom-btn {
    background: linear-gradient(135deg, rgb(0, 217, 255), rgb(0, 150, 200));
    color: white;
    padding: 12px 24px;
    font-size: 18px;
    font-weight: bold;
    border: none;
    border-radius: 50px;
    transition: all 0.3s ease-in-out;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}

.custom-btn:hover {
    background: linear-gradient(135deg, rgb(0, 150, 200), rgb(0, 217, 255));
    transform: scale(1.05);
    box-shadow: 0px 5px 15px rgba(0, 217, 255, 0.4);
}

.custom-btn i {
    margin: 0 8px;
}

</style>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await JSRuntime.InvokeVoidAsync("scrollToTop");
    }
}

<script>
    window.scrollToTop = function () {
        window.scrollTo(0, 0);
    };
</script>